<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Superfinder 앱 출시 기념 이벤트</title>
    <link rel="stylesheet" href="./reset.css" />
    <link rel="stylesheet" href="./fonts.css" />
    <link rel="stylesheet" href="./style.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      var autocomplete;

      function initAutocomplete() {
        var input = document.getElementById("autocomplete");
        var options = {
          type: ["golf_course"],
          componentRestrictions: { country: "kr" },
        };
        var autocomplete = new google.maps.places.Autocomplete(input, options);

        autocomplete.addListener("place_changed", handlePlaceSelect);

        function handlePlaceSelect() {
          var place = autocomplete.getPlace();
          var types = place.types;
          var PLC_ID = place.place_id;
          var PLC_NM = place.name;

          $("#PLC_ID").val(PLC_ID);
          $("#PLC_NM").val(PLC_NM);
          $("#autocomplete").val(PLC_NM);
          localStorage.setItem("PLC_NM", PLC_NM);
          $("#search-button").prop("disabled", false);

          const keywords = ["골프", "골프장", "클럽", "힐", "CC", "GC", "GOLF", "CLUB"];
          let isGolfPlace = false;
          for (let i = 0; i < keywords.length; i++) {
            if (PLC_NM.includes(keywords[i])) {
              isGolfPlace = true;
              break;
            }
          }
          if (
            $("#PLC_ID").val() === "" ||
            $("#PLC_ID").val() === null ||
            $("#PLC_ID").val() === undefined
          ) {
            $("#place-guide").text("추천 창에서 선택해주세요.");
            $("span").prop("hidden", true);
            $(".tab_row").prop("hidden", true);
            $(".tab_text").prop("hidden", true);
            $(".input_box.info").prop("hidden", true);
            $(".btn_wrap").prop("hidden", true);
            $("#PHONE_NUM").prop("hidden", true);
            $("#golfPlaceInput").prop("hidden", true);
            $("#HZ_LNTH").prop("hidden", true);
            $("#VR_LNTH").prop("hidden", true);
            $("#Search").prop("hidden", true);
            $("#radioYes").prop("hidden", true);
            $("#radioNo").prop("hidden", true);
            $("input[type='submit']").prop("hidden", true);
            $("button[type='submit']").prop("hidden", true);
          }
          if (!isGolfPlace) {
            $("#place-guide").text("골프장이 아닙니다.");
            $("span").prop("hidden", true);
            $(".tab_row").prop("hidden", true);
            $(".tab_text").prop("hidden", true);
            $(".input_box.info").prop("hidden", true);
            $(".btn_wrap").prop("hidden", true);
            $("#PHONE_NUM").prop("hidden", true);
            $("#golfPlaceInput").prop("hidden", true);
            $("#HZ_LNTH").prop("hidden", true);
            $("#VR_LNTH").prop("hidden", true);
            $("#Search").prop("hidden", true);
            $("#radioYes").prop("hidden", true);
            $("#radioNo").prop("hidden", true);
            $("input[type='submit']").prop("hidden", true);
            $("button[type='submit']").prop("hidden", true);
            return;
          }
          const params = {
            PLC_ID: $("#PLC_ID").val(),
          };

          $.ajax({
            url: "https://ji40ssrbe6.execute-api.ap-northeast-2.amazonaws.com/v1/checkFlagEvnt",
            type: "POST",
            data: JSON.stringify(params),
            contentType: "application/json",
            success: function (data) {
              //console.log("success:", data);
              if (data.statusCode === 400 || data.statusCode === 409) {
                openFailPopup();
              } else {
                openSuccessPopup();
              }
              if (
                $("#PLC_ID").val() === "" ||
                $("#PLC_ID").val() === null ||
                $("#PLC_ID").val() === undefined
              ) {
                $("#place-guide").text("추천 창에서 선택해주세요.");
                $("span").prop("hidden", true);
                $(".tab_row").prop("hidden", true);
                $(".tab_text").prop("hidden", true);
                $(".input_box.info").prop("hidden", true);
                $(".btn_wrap").prop("hidden", true);
                $("#PHONE_NUM").prop("hidden", true);
                $("#golfPlaceInput").prop("hidden", true);
                $("#HZ_LNTH").prop("hidden", true);
                $("#VR_LNTH").prop("hidden", true);
                $("#Search").prop("hidden", true);
                $("#radioYes").prop("hidden", true);
                $("#radioNo").prop("hidden", true);
                $("input[type='submit']").prop("hidden", true);
                $("button[type='submit']").prop("hidden", true);
              }
            },
            error: function (jqXHR, textStatus, errorThrown) {
              alert("서버와 통신 중 오류가 발생하였습니다.");
            },
          });

          // $("form").submit(function (event) {
          //   event.preventDefault();
          // });

          function openSuccessPopup() {
            // var inputElement = document.getElementById("golfPlaceInput");
            // inputElement.value = "";
            // inputElement.value = localStorage.getItem("PLC_NM");
            $("#place-guide").text("참여 가능한 골프장입니다.");
            $("span").prop("hidden", false);
            $(".tab_row").prop("hidden", false);
            $(".tab_text").prop("hidden", false);
            $(".input_box.info").prop("hidden", false);
            $(".btn_wrap").prop("hidden", false);
            $("#PHONE_NUM").prop("hidden", false);
            $("#golfPlaceInput").prop("hidden", false);
            $("#HZ_LNTH").prop("hidden", false);
            $("#VR_LNTH").prop("hidden", false);
            $("#Search").prop("hidden", false);
            $("#radioYes").prop("hidden", false);
            $("#radioNo").prop("hidden", false);
            $("input[type='submit']").prop("hidden", false);
            $("button[type='submit']").prop("hidden", false);
            // var width = 400; // 팝업 창의 가로 크기
            // var height = 300; // 팝업 창의 세로 크기
            // var left = window.innerWidth / 2 - width / 2;
            // var top = window.innerHeight / 2 - height / 2;

            // var popupWindow = window.open(
            //   "successPopup.html",
            //   "_blank",
            //   "width=" + width + ",height=" + height + ",left=" + left + ",top=" + top
            // );

            // popupWindow.onbeforeunload = function () {};
            // $("#search-button").click(function () {
            //   // 폼 제출
            //   $("form").submit();
            // });
          }

          function openFailPopup() {
            // var inputElement = document.getElementById("golfPlaceInput");
            $("span").prop("hidden", true);
            $(".tab_row").prop("hidden", true);
            $(".tab_text").prop("hidden", true);
            $(".input_box.info").prop("hidden", true);
            $(".btn_wrap").prop("hidden", true);
            $("#PHONE_NUM").prop("hidden", true);
            $("#golfPlaceInput").prop("hidden", true);
            $("#HZ_LNTH").prop("hidden", true);
            $("#VR_LNTH").prop("hidden", true);
            $("#Search").prop("hidden", true);
            $("#radioYes").prop("hidden", true);
            $("#radioNo").prop("hidden", true);
            $("input[type='submit']").prop("hidden", true);
            $("button[type='submit']").prop("hidden", true);
            // inputElement.value = "";

            $("#place-guide").text(
              "참여 완료된 골프장입니다. 다른 골프장을 선택해주세요."
            );
            // var width = 400; // 팝업 창의 가로 크기
            // var height = 300; // 팝업 창의 세로 크기
            // var left = window.innerWidth / 2 - width / 2;
            // var top = window.innerHeight / 2 - height / 2;

            // var popupWindow = window.open(
            //   "failPopup.html",
            //   "_blank",
            //   "width=" + width + ",height=" + height + ",left=" + left + ",top=" + top
            // );

            // popupWindow.onbeforeunload = function () {};
          }
        }

        // 추가: 엔터키를 막는 이벤트 핸들러 설정
        $(input).keydown(function (event) {
          if (event.keyCode == 13) {
            $("#place-guide").text("추천 창에서 선택해주세요.");
            return false;
          }
          $("#autocomplete").keydown(function (event) {
            // 'Backspace' 또는 'Delete' 키를 감지
            if (event.keyCode == 8 || event.keyCode == 46) {
              $(this).val(""); // autocomplete의 값을 지웁니다.
            }
          });
        });
      }

      $(document).ready(function () {
        // $("#search-button").prop("disabled", true);
        // $("#autocomplete").on("input", function () {
        //   var input = $(this).val();
        //   if (!input) {
        //     openJudgePopup();
        //   }
        // });
        $("#HZ_LNTH, #VR_LNTH, #PHONE_NUM, #onSave")
          .prop("disabled", true)
          .prop("tabindex", -1);

        $("#PLC_ID").keyup(function () {
          if ($(this).val()) {
            $("#HZ_LNTH").prop("disabled", false);
            $("#VR_LNTH").prop("disabled", false);
          } else {
            $("#HZ_LNTH").prop("disabled", true);
            $("#VR_LNTH").prop("disabled", true);
          }
          $("span").prop("hidden", true);
          $(".tab_row").prop("hidden", true);
          $(".tab_text").prop("hidden", true);
          $(".input_box.info").prop("hidden", true);
          $(".btn_wrap").prop("hidden", true);
          $("#PHONE_NUM").prop("hidden", true);
          $("#golfPlaceInput").prop("hidden", true);
          $("#HZ_LNTH").prop("hidden", true);
          $("#VR_LNTH").prop("hidden", true);
          $("#Search").prop("hidden", true);
          $("#radioYes").prop("hidden", true);
          $("#radioNo").prop("hidden", true);
          $("input[type='submit']").prop("hidden", true);
          $("button[type='submit']").prop("hidden", true);
        });

        $("#HZ_LNTH").keydown(function (event) {
          if (event.keyCode == 8 || event.keyCode == 46) {
            $("#input-guide").hide();
          }
        });

        $("#VR_LNTH").keydown(function (event) {
          if (event.keyCode == 8 || event.keyCode == 46) {
            $("#input-guide").hide();
          }
        });

        $("#HZ_LNTH").on("input", function () {
          this.value = this.value.replace(/[^0-9]/g, "");
        });

        $("#VR_LNTH").on("input", function () {
          this.value = this.value.replace(/[^0-9]/g, "");
        });

        $("#PHONE_NUM").on("input", function () {
          this.value = this.value.replace(/[^0-9]/g, "");
        });

        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src =
          "https://maps.googleapis.com/maps/api/js?key=AIzaSyBFRWvAechU0Ztnm5KDWl1FwAUt6as_3fQ&libraries=places&callback=initAutocomplete";
        document.body.appendChild(script);
        var phone = localStorage.getItem("phone");
        if (phone) {
          $("#PHONE_NUM").val(phone);

          localStorage.removeItem("phone");
        }

        const HZ_LNTH_MIN = 38;
        const HZ_LNTH_MAX = 60;
        const VR_LNTH_MIN = 27;
        const VR_LNTH_MAX = 45;

        $("#input-guide").hide();

        $("#HZ_LNTH, #VR_LNTH").on("input", function () {
          var hz_ln = parseInt($("#HZ_LNTH").val());
          var vr_ln = parseInt($("#VR_LNTH").val());
          var hz_valid = !isNaN(hz_ln) && hz_ln >= HZ_LNTH_MIN && hz_ln <= HZ_LNTH_MAX;
          var vr_valid = !isNaN(vr_ln) && vr_ln >= VR_LNTH_MIN && vr_ln <= VR_LNTH_MAX;

          if (hz_valid && vr_valid) {
            $("button[type='submit']").prop("disabled", false);
            $("#input-guide").hide();
          } else {
            $("button[type='submit']").prop("disabled", true);
            $("#input-guide").show();
          }

          var guideText =
            "최소값: " +
            HZ_LNTH_MIN +
            " x " +
            VR_LNTH_MIN +
            ", 최대값: " +
            HZ_LNTH_MAX +
            " x " +
            VR_LNTH_MAX;
          $("#input-guide").text(guideText);
        });
      });

      // function openJudgePopup() {
      //   const keywords = ["골프", "골프장", "클럽", "힐", "CC", "GC", "GOLF", "CLUB"];
      //   $("#place-guide").text("골프장을 선택해주세요.");
      //   $("span").prop("hidden", false);
      //   $(".tab_row").prop("hidden", false);
      //   $(".tab_text").prop("hidden", false);
      //   $(".input_box.info").prop("hidden", false);
      //   $(".btn_wrap").prop("hidden", false);
      //   $("#PHONE_NUM").prop("hidden", false);
      //   $("#golfPlaceInput").prop("hidden", false);
      //   $("#HZ_LNTH").prop("hidden", false);
      //   $("#VR_LNTH").prop("hidden", false);
      //   $("#Search").prop("hidden", false);
      //   $("#radioYes").prop("hidden", false);
      //   $("#radioNo").prop("hidden", false);
      //   $("input[type='submit']").prop("hidden", false);
      //   $("button[type='submit']").prop("hidden", false);
      //   // var width = 400; // 팝업 창의 가로 크기
      //   // var height = 300; // 팝업 창의 세로 크기
      //   // var left = window.innerWidth / 2 - width / 2;
      //   // var top = window.innerHeight / 2 - height / 2;

      //   // var popupWindow = window.open(
      //   //   "successPopup.html",
      //   //   "_blank",
      //   //   "width=" + width + ",height=" + height + ",left=" + left + ",top=" + top
      //   // );

      //   // popupWindow.onbeforeunload = function () {};
      //   // $("#search-button").click(function () {
      //   //   // 폼 제출
      //   //   $("form").submit();
      //   // });
      // }

      function onSave() {
        if (
          $("#autocomplete").val() === "" ||
          $("#autocomplete").val() === null ||
          $("#autocomplete").val() === undefined
        ) {
          alert("골프장을 입력해주세요");
          $("#autocomplete").focus();
          $("input[type='submit']").prop("disabled", true);
          return;
        }

        if (
          $("#HZ_LNTH").val() === "" ||
          $("#HZ_LNTH").val() === null ||
          $("#HZ_LNTH").val() === undefined
        ) {
          alert("가로 길이를 입력해주세요");
          $("#HZ_LNTH").focus();
          return;
        }

        if (
          $("#VR_LNTH").val() === "" ||
          $("#VR_LNTH").val() === null ||
          $("#VR_LNTH").val() === undefined
        ) {
          alert("세로 길이를 입력해주세요");
          $("#VR_LNTH").focus();
          return;
        }

        if (
          $("#PHONE_NUM").val() === "" ||
          $("#PHONE_NUM").val() === null ||
          $("#PHONE_NUM").val() === undefined
        ) {
          alert("전화번호를 입력해주세요");
          $("#PHONE_NUM").focus();
          return;
        }

        if ($("#PHONE_NUM").val()) {
          var phoneNumber = $("#PHONE_NUM").val();
          phoneNumber = phoneNumber.replace(/-/g, "");
          $("#PHONE_NUM").val(phoneNumber);
        }

        if (!$("input[name='radio']:checked").val()) {
          alert("동의 여부를 선택해주세요.");
          return;
        }

        if (
          confirm(
            "해당 정보로 제출하시겠습니까?\n\n깃발 크기를 정확하게 입력하지 않을 경우\n보상 대상에서 제외될 수 있습니다."
          )
        ) {
          // 깃발을 등록합니다.
          const params = {
            PLC_ID: $("#PLC_ID").val(),
            PLC_NM: $("#PLC_NM").val(),
            HZ_LNTH: $("#HZ_LNTH").val(),
            VR_LNTH: $("#VR_LNTH").val(),
            PHONE_NUM: $("#PHONE_NUM").val(),
            USE_YN: $("#USE_YN").val(),
            CSNT_YN: $('input[name="radio"]:checked').val(),
          };

          $.ajax({
            url: "https://ji40ssrbe6.execute-api.ap-northeast-2.amazonaws.com/v1/flagEvnt",
            type: "POST",
            data: JSON.stringify(params),
            contentType: "application/json",
            success: function (data) {
              //console.log("success:", data);
              if (data.statusCode === 409) {
                alert("해당 골프장에 깃발을 이미 등록했습니다.");
              } else if (data.statusCode === 400) {
                alert("해당 골프장은 깃발이 모두 등록되었습니다.");
              } else {
                alert("등록이 완료되었습니다.");
                localStorage.setItem("phone", $("#PHONE_NUM").val());
                location.reload();
              }
            },
            error: function (jqXHR, textStatus, errorThrown) {
              alert("서버와 통신 중 오류가 발생하였습니다.");
            },
          });
        }
      }

      // function Search() {
      //   //console.log($("#PHONE_NUM").val());
      //   //console.log($("#PLC_NM").val());
      //   if (
      //     $("#PHONE_NUM").val() === "" ||
      //     $("#PHONE_NUM").val() === null ||
      //     $("#PHONE_NUM").val() === undefined
      //   ) {
      //     alert("카카오 ID를 입력해주세요");
      //     $("#PHONE_NUM").focus();
      //     $("button[type='submit']").prop("disabled", true);
      //     return;
      //   }

      //   if (
      //     $("#golfPlaceInput").val() === "" ||
      //     $("#golfPlaceInput").val() === null ||
      //     $("#golfPlaceInput").val() === undefined
      //   ) {
      //     alert("골프장을 입력해주세요");
      //     $("#golfPlaceInput").focus();
      //     $("button[type='submit']").prop("disabled", true);
      //     return;
      //   }

      //   const params = {
      //     PLC_ID: $("#PLC_ID").val(),
      //     PLC_NM: $("#PLC_NM").val(),
      //     PHONE_NUM: $("#PHONE_NUM").val(),
      //   };
      //   $.ajax({
      //     url: "https://ji40ssrbe6.execute-api.ap-northeast-2.amazonaws.com/v1/checkFlagEvnt",
      //     type: "POST",
      //     data: JSON.stringify(params),
      //     contentType: "application/json",
      //     success: function (data) {
      //       //console.log("success:", data);
      //       if (data.statusCode === 409) {
      //         alert("해당 골프장에 깃발을 이미 등록했습니다.");
      //       } else if (data.statusCode === 400) {
      //         alert("해당 골프장은 깃발이 모두 등록되었습니다.");
      //       } else {
      //         alert("등록이 가능합니다.");
      //       }
      //     },
      //     error: function (jqXHR, textStatus, errorThrown) {
      //       alert("서버와 통신 중 오류가 발생하였습니다.");
      //     },
      //   });
      // }

      $.ajax({
        url: "https://ji40ssrbe6.execute-api.ap-northeast-2.amazonaws.com/v1/FlagEvntRank",
        type: "GET",
        contentType: "application/json",
        success: function (response) {
          const data = JSON.parse(response.body);
          let rankHtml = "";
          for (let index = 0; index < 5; index++) {
            let item = data[index];
            const rankClass =
              index === 0
                ? "first"
                : index === 1
                ? "second"
                : index === 2
                ? "third"
                : index === 3
                ? "fourth"
                : "fifth";
            let phoneNumber = item ? item[0] : "";
            let times = item ? item[1] : "";
            // 마스킹 처리
            // if (phoneNumber) {
            //   phoneNumber = phoneNumber.slice(0, -4) + "****";
            // }
            // if (phoneNumber) {
            //   let lastFourDigits = phoneNumber.slice(-4);
            //   phoneNumber = "****" + lastFourDigits.slice(0, 2) + "**";
            // }
            if (phoneNumber) {
              let lastFourDigits = phoneNumber.slice(-4);
              phoneNumber = lastFourDigits.slice(0, 2) + "**";
            }
            const rankElement = `
        <div class="rating_item">
          <div class="rating_star ${rankClass}">${index + 1}등</div>
          <p class="phone_num">${phoneNumber}</p>
          <p class="num_time">${times}회</p>
        </div>
      `;
            rankHtml += rankElement;
          }
          $(".rating_box").html(rankHtml);
        },
        error: function (jqXHR, textStatus, errorThrown) {
          alert("서버와 통신 중 오류가 발생하였습니다.");
        },
      });

      $.ajax({
        url: "https://ji40ssrbe6.execute-api.ap-northeast-2.amazonaws.com/v1/FlagEvntCnt",
        type: "GET",
        contentType: "application/json",
        success: function (response) {
          const unique_phone_nums_count = JSON.parse(response.body);
          $("#unique_phone_nums_count").text(
            "현재 " + unique_phone_nums_count + "명 참여중"
          );
        },
        error: function (jqXHR, textStatus, errorThrown) {
          alert("서버와 통신 중 오류가 발생하였습니다.");
        },
      });
    </script>
  </head>

  <body>
    <div class="wrap">
      <div class="section">
        <img src="./top_bg.png" alt="" />
      </div>

      <div class="section">
        <h3 class="section_title">경품안내</h3>
        <!-- 경품 이미지 확정시 이미지 넣기 -->
        <div class="event_table prize">이미지 사진</div>
        <p class="warning_phrase">- 경품 이미지는 실제와 다를 수 있습니다.</p>
      </div>

      <div class="section">
        <h3 class="section_title">이벤트 안내</h3>
        <div class="event_table">
          <div class="table_left">
            <p>이벤트 기간</p>
            <p>이벤트 대상</p>
            <p>혜택지급일</p>
          </div>
          <div class="table_right">
            <p>1차 이벤트 5월 15일~6월 14일(1개월간 진행)</p>
            <p>캐디, 야외골프장 깃발 크기 측정자</p>
            <p>2023년 6월 14일(수) 이후 1개월 내 순차지급</p>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="event_table vertical first">
          <div class="table_tab">
            <p class="active">이벤트 참여하기</p>
          </div>

          <div class="tab_row">
            <div class="transparent"></div>
            <div class="tab_text">
              <p>골프장검색</p>
            </div>
            <div class="input_box search">
              <input
                type="text"
                id="autocomplete"
                name="autocomplete"
                placeholder="이벤트에 참여할 골프장을 검색하세요."
              />
              <input type="hidden" id="PLC_ID" name="PLC_ID" />
              <input type="hidden" id="PLC_NM" name="PLC_NM" />
              <input type="hidden" id="USE_YN" name="USE_YN" value="Y" />
            </div>
            <div class="transparent"></div>
          </div>

          <!-- <div class="btn_wrap">
                 <button id="search-button">조회</button> 
              </div> -->
          <div class="tab_row">
            <div class="transparent"></div>
            <div class="tab_text"></div>
            <div>
              <p id="place-guide"></p>
              <p class="warning_phrase">
                - 한 개의 골프장당 최대 3명까지 참여가 가능합니다.
              </p>
              <p class="warning_phrase">
                - '참여불가'상태의 골프장은 참여하셔도 보상이 불가합니다.
              </p>
            </div>
          </div>

          <!-- 2nd -->
          <div class="tab_row">
            <div class="transparent"></div>
            <div class="tab_text">
              <p>깃발크기</p>
            </div>
            <div class="input_wrap">
              <div class="input_box info">
                <input type="text" id="HZ_LNTH" name="HZ_LNTH" placeholder="가로(cm)" />
              </div>
              <span>X</span>
              <div class="input_box info">
                <input type="text" id="VR_LNTH" name="VR_LNTH" placeholder="세로(cm)" />
              </div>
            </div>
            <div class="transparent"></div>
            <p id="input-guide"></p>
          </div>
          <div class="tab_row">
            <div class="transparent"></div>
            <div class="tab_text">
              <p>전화번호</p>
            </div>
            <div class="input_box info">
              <input type="hidden" id="USER_ID" value="USER_ID" />
              <input
                type="text"
                id="PHONE_NUM"
                name="PHONE_NUM"
                placeholder="'-'없이 숫자만 입력해주세요."
                maxlength="11"
              />
            </div>
            <div class="transparent"></div>
          </div>
          <!-- 깃발크기 입력 설명 
          <div class="warning_box">
            <p class="warning_phrase">
              - 깃발 크기가 정확하지 않을 경우 보상 대상에서 제외될 수
              있습니다.
            </p>
            <p class="warning_phrase">
              - 이벤트 1회 기준 인당 최대 10번까지 참여가 가능합니다.
            </p>
            <p class="warning_phrase">
              - 가장 정확한 수치로 깃발을 많이 등록해주시는 분들께 추가 보상을
              드립니다.
            </p>
          </div> -->

          <!-- 3rd -->
          <div class="tab_content">
            <h5 class="tab_title">개인정보 수집 및 처리 위탁 동의</h5>
            <p class="tab_title_sub">
              이벤트 경품 지급을 위해서만 개인정보를 이용하며<br />
              이벤트 완료 후 1개월 이내에 모든 정보는 파기됩니다.
            </p>
            <div class="radio_wrap">
              <label class="radio_box">
                <input type="radio" id="CSNT_Y" name="radio" value="Y" />
                <span class="radio_btn"></span>
                <span class="radio_txt">네,동의합니다.</span>
              </label>
              <label class="radio_box">
                <input type="radio" id="CSNT_N" name="radio" value="N" />
                <span class="radio_btn"></span>
                <span class="radio_txt">동의하지 않습니다.</span>
              </label>
            </div>
            <br />
            <div class="btn_wrap">
              <button type="submit" id="onSave" onclick="onSave()">제출하기</button>
            </div>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="section_title_box">
          <h3 class="section_title">실시간 참여 랭킹</h3>
          <p id="unique_phone_nums_count"></p>
        </div>
        <!-- <script>
          function getCurrentDateTimeString() {
            const now = new Date();
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, "0");
            const day = String(now.getDate()).padStart(2, "0");
            const weekday = ["일", "월", "화", "수", "목", "금", "토"][now.getDay()];
            const hours = now.getHours();
            const ampm = hours < 12 ? "오전" : "오후";
            const formattedHours = String(hours % 12 || 12).padStart(2, "0");
            const minutes = String(now.getMinutes()).padStart(2, "0");

            return `${year}년 ${month}월 ${day}일 ${weekday}요일 ${ampm} ${formattedHours}:${minutes} 기준`;
          } -->
        <script>
          function phoneNumCnt() {
            window.onload = function () {
              document.querySelector(".section_title_box p").textContent = phoneNumCnt();
            };
          }
        </script>
        <div class="event_table vertical">
          <div class="rating_box">
            <div class="rating_item">
              <div class="rating_star first">1등</div>
              <p class="phone_num">kakao***</p>
              <p class="num_time">10회</p>
            </div>
            <div class="rating_item">
              <div class="rating_star second">2등</div>
              <p class="phone_num">kakao***</p>
              <p class="num_time">10회</p>
            </div>
            <div class="rating_item">
              <div class="rating_star third">3등</div>
              <p class="phone_num">kakao***</p>
              <p class="num_time">10회</p>
            </div>
            <div class="rating_item">
              <div class="rating_star fourth">4등</div>
              <p class="phone_num">kakao***</p>
              <p class="num_time">10회</p>
            </div>
            <div class="rating_item">
              <div class="rating_star fifth">5등</div>
              <p class="phone_num">kakao***</p>
              <p class="num_time">10회</p>
            </div>
          </div>
          <div class="rating_warning">
            <p class="warning_phrase">- 랭킹 TOP5에게는 앱 1년 무료 이용권이 지급되며,</p>
            <p class="warning_phrase">
              TOP3에게는 앱 1년 무료 이용권과 함께
              <span>"미니 골드바" 추가 보상</span>을 드립니다.
            </p>
            <p class="warning_phrase">
              - 참여 횟수가 동일할 경우 선착순으로 보상이 지급됩니다.
            </p>
          </div>
        </div>
      </div>
      <div class="section">
        <h3 class="section_title">유의사항</h3>
        <div class="precautions">
          <p>-야외골프장 깃발 거리 측정이 가능한 캐디 대상의 이벤트입니다.</p>
          <p>-해당 경품 이벤트는 만00세 이상 참여 가능합니다.</p>
          <p>-하나의 골프장당 최초 1회만 참여가 가능합니다.</p>
          <p>
            -이벤트 기간 내에 해당 웹페이지에서 <제출하기> 버튼을 누르셔야 신청됩니다.
          </p>
          <p>
            -보상받을 전화번호 정보 불일치, 연락 두절로 인한 재발송은 진행하지 않습니다.
          </p>
          <p>
            -정확도가 낮은 측정 결과 또는 비정상적인 입력은 별도의 통보 없이 보상 대상에서
            제외됩니다.
          </p>
          <p>
            -이벤트 조건이 충족되지 않을 경우 정상 제출이 되어도 보상 지급이 불가합니다.
          </p>
          <p>
            -지급되는 보상은 참여해주신 횟수와 정확도에 따라 다르며, 참여 횟수는 실시간
            랭킹을 참고해주시기를 바랍니다.
          </p>
          <p>
            -보상은 안내된 상품권/상품으로 제공되며, 상황에 따라 경품이 변경 지급될 수
            있습니다.
          </p>
          <p>-이벤트 보상 사진은 연출된 이미지로 실제와 다를 수 있습니다.</p>
          <p>
            -기프티콘은 유효기간이 정해진 상품이며 해당 기간 내에 사용하지 않은 부분에
            대한 책임은 지지 않습니다.
          </p>
          <p>
            -이벤트 당첨 발표는 별도로 진행하지 않으며 당첨자분들에게 개별적으로 연락
            드립니다.
          </p>
          <p>
            -보상 지급 시점은 이벤트 종료 후 깃발 크기 데이터 확인 후 1개월 이내입니다.
          </p>
          <p>
            -수집된 개인정보는 당첨자 선정 및 경품 발송을 위해서만 사용되며, 이벤트 종료
            후 30일 이내 폐기됩니다.
          </p>
          <p>-본 이벤트는 당사 및 제휴사 사정에 따라 변경될 수 있습니다.</p>
        </div>
      </div>
    </div>
  </body>
</html>
